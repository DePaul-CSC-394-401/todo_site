{% extends "todo/base.html" %}
{% block title %} Todo Items {% endblock %}

{% block content %}
    <h2 style="text-align:center;font-size:30px;color:rgb(29, 44, 122)">Todo Items</h2>
    {% if todo_items %}
    <table>
        <tr>
            <body style="background-color:rgb(162, 229, 237);"></body>
                <th>Title</th> 
                <th>Description</th>
                <th><a href="?order_by=due_date">Due Date</a></th>
                <th>Status</th>
                <th><a href="?order_by=priority_order">Priority</a></th>
            </body>
        </tr> 
        {% for td in todo_items %}
        <tr> 
            {% if td.is_completed %}
            <td style="color:darkgreen;background-color:lime">Complete!</td> 
            {% else %}
            <td>{{ td.title }}</td>
            <td>{{ td.description }}</td>
            <td>{{ td.due_date }}</td>
            <td>
                <a href="{% url 'mark_completed' td.id %}">Mark complete</a>
                {% endif %}
            </td>
            <td>{{ td.get_priority_display }}</td>
            <td><a href="{% url 'edit_todo_item' td.id %}">Edit</a></td>
            <td><a href="{% url 'delete_confirmation' td.id %}">Delete</a></td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
            <p>No todo items</p> 
    {% endif %}
{% endblock %}
